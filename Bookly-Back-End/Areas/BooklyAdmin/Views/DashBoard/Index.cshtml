@model DashBoardVM
@{
    ViewData["Title"] = "Index";
    decimal total = 0;
    @foreach (Order order in Model.Orders.Where(o => o.Status == true))
    {
        total = Math.Floor(total + order.TotalPrice);
    }
}

<div class="main-panel">
    <div class="content-wrapper">
        <div class="row">
            <div class="col-md-12 grid-margin stretch-card">
                <div class="card">
                    <div class="card-body dashboard-tabs p-0">
                        <div class="tab-content py-0 px-0">
                            <div class="tab-pane fade show active" id="overview" role="tabpanel" aria-labelledby="overview-tab">
                                <div class="d-flex flex-wrap bg-dark justify-content-xl-between" style="height: 300px; border-radius: 10px;">
                                    <div class="container text-center mt-3">
                                        <h1 class="text-light">Bookly Site Rating</h1>
                                        <p class="text-light">Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.</p>
                                    </div>
                                    <div class="d-flex border-md-right flex-grow-1 align-items-center justify-content-center p-3 item">
                                        <i class="mdi mdi-currency-usd me-3 icon-lg text-danger" style="font-size: 70px;"></i>
                                        <div class="d-flex flex-column justify-content-around">
                                            <strong class="mb-1 text-muted">Total Profit</strong>
                                            <span>+</span>
                                            <h2 data-target="@total" class="me-2 mb-0 text-light counter"></h2>
                                        </div>
                                    </div>
                                    <div class="d-flex border-md-right flex-grow-1 align-items-center justify-content-center p-3 item">

                                        <i class="fas fa-sign-in me-3 icon-lg text-success" style="font-size: 70px;"></i>
                                        <div class="d-flex flex-column justify-content-around">
                                            <strong class="mb-1 text-muted">Visits</strong>
                                            <span>+</span>
                                            <h2 data-target="@Model.Orders.Count" class="me-2 mb-0 text-light counter"></h2>
                                        </div>
                                    </div>
                                    <div class="d-flex border-md-right flex-grow-1 align-items-center justify-content-center p-3 item">
                                        <i class="fas fa-shipping-fast me-3 icon-lg text-warning" style="font-size: 70px;"></i>
                                        <div class="d-flex flex-column justify-content-around">
                                            <strong class="mb-1 text-muted">Orders</strong>
                                            <span>+</span>
                                            <h2 data-target="@Model.Orders.Count" class="me-2 mb-0 text-light counter"></h2>
                                        </div>
                                    </div>
                                    <div class="d-flex py-3 border-md-right flex-grow-1 align-items-center justify-content-center p-3 item">
                                        <i class="fas fa-users me-3 icon-lg text-danger" style="font-size: 70px;"></i>
                                        <div class="d-flex flex-column justify-content-around">
                                            <strong class="mb-1 text-muted">Users</strong>
                                            <span>+</span>
                                            <h2 data-target="@Model.AppUsers.Count" class="me-2 mb-0 text-light counter"></h2>
                                        </div>
                                    </div>
                                    @*<div class="d-flex py-3 border-md-right flex-grow-2 align-items-center justify-content-center p-3 item">
                                            <i class="fas fa-users me-3 icon-lg text-danger" style="font-size: 70px;"></i>
                                            <div class="d-flex flex-column justify-content-around">
                                                <strong class="mb-1 text-muted">Sign-in</strong>
                                                <h4 class="me-2 mb-0 text-light">Model.Comments.Count+</h4>
                                            </div>
                                        </div>*@
                                </div>
                            </div>


                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    @section Scripts{
       
        <script>
            const counters = document.querySelectorAll('.counter');
            counters.forEach((counter) => {
                counter.innerText = `0`;
                const updateCounter = () => {
                    const target = +counter.getAttribute
                        (`data-target`);
                    const c = + counter.innerText;

                    const increment = target / 2000;

                    if (c < target) {
                        counter.innerText = `${Math.ceil(c + increment)}`;
                        setTimeout(updateCounter, 1);
                    } else {
                        counter.innerText = target;
                    }

                };
                updateCounter();
            })
        </script>
    }


