@model OrderVM
@{
    ViewData["Title"] = "Checkout";

}

<main>
    <section id="data-payment" class="py-5">
        <div class="container">
            <div class="row">
                <div class="col-lg-6 col-md-12 col-sm-12 col-12" style="border-right: 1px solid #e6e6e6; height: 90vh;">

                    <div class="data-user">
                        <h3 class="title">Checkout</h3>
                        <div class="payments row bg-light">
                            <div class="col-lg-6 shopping d-flex">
                                <span>
                                    <svg width="20" height="19" xmlns="http://www.w3.org/2000/svg"
                                         class="order-summary-toggle__icon">
                                        <path d="M17.178 13.088H5.453c-.454 0-.91-.364-.91-.818L3.727 1.818H0V0h4.544c.455 0 .91.364.91.818l.09 1.272h13.45c.274 0 .547.09.73.364.18.182.27.454.18.727l-1.817 9.18c-.09.455-.455.728-.91.728zM6.27 11.27h10.09l1.454-7.362H5.634l.637 7.362zm.092 7.715c1.004 0 1.818-.813 1.818-1.817s-.814-1.818-1.818-1.818-1.818.814-1.818 1.818.814 1.817 1.818 1.817zm9.18 0c1.004 0 1.817-.813 1.817-1.817s-.814-1.818-1.818-1.818-1.818.814-1.818 1.818.814 1.817 1.818 1.817z">
                                        </path>
                                    </svg>
                                </span>
                                <div class="show-hide d-flex ms-2">
                                    <div class="orders">
                                        <span class="order show">Show order summary</span>
                                        <span class="order hide">Hide order summary</span>
                                    </div>
                                    <div class="down-up mt-1 ms-1">
                                        <i class="fa-solid fa-angle-down down btn-manager"></i>
                                        <i class="fa-solid fa-angle-up up btn-manager"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="product-datas mt-2">
                                @foreach (BasketItem item in Model.BasketItems)
                                {
                                    <div class="book-infos d-flex justify-content-between">
                                        <div class="book-image">
                                            <sup class="sup">@item.Count</sup>
                                            <img src="assets/Image/Library/@item.Book.BookImages.FirstOrDefault(b => b.IsMain == true)?.ImagePath" alt="">
                                        </div>
                                        <div class="book-name d-flex align-items-center justify-content-end">
                                            <p>@item.Book.Name</p>
                                        </div>
                                        <div class="book-price d-flex align-items-center">
                                            <p>$</p>
                                        </div>
                                    </div>
                                }
                                <div class="product-price">
                                    <div class="subtotal d-flex justify-content-between">
                                        <small>Subtotal</small>
                                        <p>$420.00</p>
                                    </div>
                                    <div class="shipping d-flex justify-content-between">
                                        <small>Shipping</small>
                                        <p>$18.78</p>
                                    </div>
                                </div>
                                <div class="total-price d-flex justify-content-between">
                                    <p>Total</p>
                                    <span><small>USD</small> $438.78</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="shiping-address mt-5">
                        <p>Shipping address</p>

                        <form class="row g-3">
                            <select size="1" autocomplete="shipping country" data-backup="country"
                                    class="field__input field__input--select mb-4" aria-required="true"
                                    name="checkout[shipping_address][country]" id="checkout_shipping_address_country"
                                    placeholder="Country/region">
                                <option data-code="AZ" selected="selected" value="@Model.Country.Name">@Model.Country.Name</option>
                            </select>
                            <div class="col-12">
                                <label for="inputAddress" class="form-label">Address</label>
                                <input type="text" class="form-control" id="inputAddress" placeholder="Address">
                            </div>
                            <select size="1" autocomplete="shipping country" data-backup="country"
                                    class="field__input field__input--select mb-4" aria-required="true"
                                    name="checkout[shipping_address][country]" id="checkout_shipping_address_country"
                                    placeholder="Country/region">
                                @foreach (City city in Model.Cities)
                                {
                                    <option data-code="AZ" selected="selected">@city.Name</option>
                                }
                            </select>

                            <div class="col-12">

                                @foreach (Delivery delivery in Model.Deliveries)
                                {
                                    <div class="d-flex justify-content-between">
                                        <input type="checkbox">
                                        <h6 class="mt-3">@delivery.Name</h6>
                                        <h5 class="mt-3" for="horns">+@delivery.Price $</h5>
                                    </div>
                                }
                            </div>

                            <div class="col-12 row mt-4">
                                <div class="col-lg-6 col-md-12  d-flex align-items-center">
                                    <span>
                                        <i class="fa-solid fa-chevron-left"></i><span class="ms-1">
                                            <a href="Product.html">Return to cart</a>
                                        </span>
                                    </span>
                                </div>
                                <div class="col-lg-6 col-md-12 submit-btn">
                                    <button type="submit" class="btn btn-dark btn-sub">
                                        Continue to
                                        shipping
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>

                </div>
                <div class="col-lg-6 bg-light product-transaction" style="height: 90vh;">
                    @foreach (BasketItem basketItem in Model.BasketItems)
                    {
                        <div class="payments-large row bg-light">
                            <div class="product-datas-large mt-2">
                                <div class="book-infos d-flex justify-content-between">
                                    <div class="book-image">
                                        <sup class="sup">0</sup>
                                        <img src="assets/Image/Library/@basketItem.Book.BookImages.FirstOrDefault(b => b.IsMain == true)?.ImagePath" alt="">
                                    </div>
                                    <div class="book-name d-flex align-items-center justify-content-end">
                                        <p>@basketItem.Book.Name</p>
                                    </div>
                                    <div class="book-price d-flex align-items-center">
                                        <p>$@basketItem.Book.Price</p>
                                    </div>
                                </div>
                                <div class="product-price">
                                    <div class="subtotal d-flex justify-content-between">
                                        <small>Subtotal</small>
                                        <p>$420.00</p>
                                    </div>
                                    <div class="shipping d-flex justify-content-between">
                                        <small>Shipping</small>
                                        <p>$18.78</p>
                                    </div>
                                </div>
                                <div class="total-price d-flex justify-content-between">
                                    <p>Total</p>
                                    <span><small>USD</small> $438.78</span>
                                </div>
                            </div>
                        </div>
                    }
                </div>
            </div>
        </div>
    </section>
</main>
@section Scripts{
    <script src="~/assets/Js/transaction.js"></script>
}

